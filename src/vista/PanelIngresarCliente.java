/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package vista;

import controlador.ClienteDao;
import controlador.EstadoCivilDao;
import controlador.MisMetodos;
import java.awt.Component;
import java.util.ArrayList;
import javax.swing.JOptionPane;
import javax.swing.JTextField;
import modelo.Cliente;
import modelo.EstadoCivil;

/**
 *
 * @author aleja
 */
public class PanelIngresarCliente extends javax.swing.JPanel {
    MisMetodos mismetodos = new MisMetodos();
    ClienteDao clienteDao = new ClienteDao();
    EstadoCivilDao estadoCivilDao = new EstadoCivilDao();
    /**
     * Creates new form PanelIngresarCliente
     */
    public PanelIngresarCliente() {
        initComponents();
        //llenadoComboBoxEstadoCivil();
        mismetodos.comboboxLLenado(comboboxEstadoCivil, estadoCivilDao.todosLosEstadoCivil());
        mismetodos.panelCamposErrorInicializador(this);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        labelNumeroRutCli = new javax.swing.JLabel();
        inputNumrut_cli = new javax.swing.JTextField();
        labelDigitoVerificadorCli = new javax.swing.JLabel();
        inputDvrut_cli = new javax.swing.JTextField();
        labelApellidoPaternoCli = new javax.swing.JLabel();
        inputAppaterno_cli = new javax.swing.JTextField();
        labelApellidoMaternoCli = new javax.swing.JLabel();
        inputApmaterno_cli = new javax.swing.JTextField();
        labelNombreCli = new javax.swing.JLabel();
        inputNombre_cli = new javax.swing.JTextField();
        labelDireccionCli = new javax.swing.JLabel();
        inputDireccion_cli = new javax.swing.JTextField();
        labelEstadoCivilCli = new javax.swing.JLabel();
        comboboxEstadoCivil = new javax.swing.JComboBox<>();
        labelTelefonoFijoCli = new javax.swing.JLabel();
        inputFonofijo_cli = new javax.swing.JTextField();
        labelCelularCli = new javax.swing.JLabel();
        inputCelular_cli = new javax.swing.JTextField();
        labelRentaCli = new javax.swing.JLabel();
        inputRenta_cli = new javax.swing.JTextField();
        btnGuardarCliente = new javax.swing.JButton();
        btnLimpiarCliente = new javax.swing.JButton();
        labelErrorNumeroRut = new javax.swing.JLabel();
        labelErrorDigitoVerificador = new javax.swing.JLabel();
        labelErrorApellidoPaterno = new javax.swing.JLabel();
        labelErrorApellidoMaterno = new javax.swing.JLabel();
        labelErrorNombre = new javax.swing.JLabel();
        labelErrorDireccion = new javax.swing.JLabel();
        labelErrorEstadoCivil = new javax.swing.JLabel();
        labelErrorTelefono = new javax.swing.JLabel();
        labelErrorCelular = new javax.swing.JLabel();
        labelErrorRenta = new javax.swing.JLabel();

        setBorder(javax.swing.BorderFactory.createTitledBorder("Ingreso Clientes"));

        labelNumeroRutCli.setText("Número de rut");

        inputNumrut_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputNumrut_cli.setText("Ingrese numero de rut");
        inputNumrut_cli.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                inputNumrut_cliActionPerformed(evt);
            }
        });

        labelDigitoVerificadorCli.setText("Dígito Verificador");

        inputDvrut_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputDvrut_cli.setText("Ingrese digito verificador");
        inputDvrut_cli.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                inputDvrut_cliActionPerformed(evt);
            }
        });

        labelApellidoPaternoCli.setText("Apellido Paterno");

        inputAppaterno_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputAppaterno_cli.setText("Ingrese apellido paterno");

        labelApellidoMaternoCli.setText("Apellido Materno");

        inputApmaterno_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputApmaterno_cli.setText("Ingrese apellido materno");

        labelNombreCli.setText("Nombre");

        inputNombre_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputNombre_cli.setText("Ingrese nombre");

        labelDireccionCli.setText("Direción");

        inputDireccion_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputDireccion_cli.setText("Ingrese direccion");

        labelEstadoCivilCli.setText("Estado Civil");

        comboboxEstadoCivil.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboboxEstadoCivilActionPerformed(evt);
            }
        });

        labelTelefonoFijoCli.setText("Telefono Fijo");

        inputFonofijo_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputFonofijo_cli.setText("Ingrese telefono fijo");

        labelCelularCli.setText("Celular");

        inputCelular_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputCelular_cli.setText("Ingrese  telefono celular");

        labelRentaCli.setText("Renta");

        inputRenta_cli.setForeground(new java.awt.Color(153, 153, 153));
        inputRenta_cli.setText("Ingrese Renta del cliente");

        btnGuardarCliente.setText("Guardar Cliente");
        btnGuardarCliente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGuardarClienteActionPerformed(evt);
            }
        });

        btnLimpiarCliente.setText("Limpiar");
        btnLimpiarCliente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLimpiarClienteActionPerformed(evt);
            }
        });

        labelErrorNumeroRut.setForeground(new java.awt.Color(255, 0, 51));
        labelErrorNumeroRut.setText("Número de rut obligatorio");
        labelErrorNumeroRut.setVerticalAlignment(javax.swing.SwingConstants.TOP);
        labelErrorNumeroRut.setName("labelErrorNumeroRut"); // NOI18N

        labelErrorDigitoVerificador.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorDigitoVerificador.setText("Digito Verificador obligatorio");
        labelErrorDigitoVerificador.setName("labelErrorDigitoVerificador"); // NOI18N

        labelErrorApellidoPaterno.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorApellidoPaterno.setText("Apellido Paterno Obligatorio");
        labelErrorApellidoPaterno.setName("labelErrorApellidoPaterno"); // NOI18N

        labelErrorApellidoMaterno.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorApellidoMaterno.setText("Apellido Materno Obligatorio");
        labelErrorApellidoMaterno.setName("labelErrorApellidoMaterno"); // NOI18N

        labelErrorNombre.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorNombre.setText("Nombre Obligatorio");
        labelErrorNombre.setName("labelErrorNombre"); // NOI18N

        labelErrorDireccion.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorDireccion.setText("Direccion Obligatorio");
        labelErrorDireccion.setName("labelErrorDireccion"); // NOI18N

        labelErrorEstadoCivil.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorEstadoCivil.setText("Estado Civil Obligatorio");
        labelErrorEstadoCivil.setName("labelErrorEstadoCivil"); // NOI18N

        labelErrorTelefono.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorTelefono.setText("Telefono Obligatorio");
        labelErrorTelefono.setName("labelErrorTelefono"); // NOI18N

        labelErrorCelular.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorCelular.setText("Celular Obligatorio");
        labelErrorCelular.setName("labelErrorCelular"); // NOI18N

        labelErrorRenta.setForeground(new java.awt.Color(255, 0, 0));
        labelErrorRenta.setText("Renta Obligatorio");
        labelErrorRenta.setName("labelErrorRenta"); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(41, 41, 41)
                        .addComponent(btnGuardarCliente)
                        .addGap(27, 27, 27)
                        .addComponent(btnLimpiarCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(25, 25, 25)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(labelCelularCli, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(labelEstadoCivilCli, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(labelApellidoPaternoCli, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(labelApellidoMaternoCli, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(labelDigitoVerificadorCli, javax.swing.GroupLayout.DEFAULT_SIZE, 98, Short.MAX_VALUE)
                                    .addComponent(labelNumeroRutCli, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(labelNombreCli, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(labelDireccionCli, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addComponent(labelTelefonoFijoCli, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(labelRentaCli, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(inputDvrut_cli)
                                    .addComponent(inputAppaterno_cli)
                                    .addComponent(inputApmaterno_cli)
                                    .addComponent(inputDireccion_cli)
                                    .addComponent(inputFonofijo_cli)
                                    .addComponent(comboboxEstadoCivil, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(inputCelular_cli)
                                    .addComponent(inputNumrut_cli)
                                    .addComponent(inputRenta_cli))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(labelErrorNumeroRut, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(labelErrorDigitoVerificador)
                                    .addComponent(labelErrorApellidoPaterno)
                                    .addComponent(labelErrorApellidoMaterno)
                                    .addComponent(labelErrorDireccion)
                                    .addComponent(labelErrorEstadoCivil)
                                    .addComponent(labelErrorTelefono)
                                    .addComponent(labelErrorCelular)
                                    .addComponent(labelErrorRenta)))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(18, 18, 18)
                                .addComponent(inputNombre_cli, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(labelErrorNombre)))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelNumeroRutCli)
                    .addComponent(inputNumrut_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorNumeroRut))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelDigitoVerificadorCli)
                    .addComponent(inputDvrut_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorDigitoVerificador))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelApellidoPaternoCli)
                    .addComponent(inputAppaterno_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorApellidoPaterno))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelApellidoMaternoCli)
                    .addComponent(inputApmaterno_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorApellidoMaterno))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelNombreCli)
                    .addComponent(inputNombre_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorNombre))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelDireccionCli)
                    .addComponent(inputDireccion_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorDireccion))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelEstadoCivilCli)
                    .addComponent(comboboxEstadoCivil, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorEstadoCivil))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelTelefonoFijoCli)
                    .addComponent(inputFonofijo_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorTelefono))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelCelularCli, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(inputCelular_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorCelular))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelRentaCli)
                    .addComponent(inputRenta_cli, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelErrorRenta))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnGuardarCliente)
                    .addComponent(btnLimpiarCliente))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void inputNumrut_cliActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_inputNumrut_cliActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_inputNumrut_cliActionPerformed

    private void inputDvrut_cliActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_inputDvrut_cliActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_inputDvrut_cliActionPerformed

    private void comboboxEstadoCivilActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboboxEstadoCivilActionPerformed

    }//GEN-LAST:event_comboboxEstadoCivilActionPerformed

    private void btnGuardarClienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGuardarClienteActionPerformed
        int numrut_cli;
        char dvrut_cli;
        String appaterno_cli;
        String apmaterno_cli;
        String nombre_cli;
        String direccion_cli;
        int id_estcivil;
        int fonofijo_cli;
        int celular_cli;
        int renta_cli;
        ArrayList resultadoBusqueda = estadoCivilDao.buscarEstadoCivil((String)comboboxEstadoCivil.getSelectedItem());

        numrut_cli = Integer.parseInt(inputNumrut_cli.getText());
        dvrut_cli = inputDvrut_cli.getText().charAt(0);
        appaterno_cli = inputAppaterno_cli.getText();
        apmaterno_cli = inputApmaterno_cli.getText();
        nombre_cli = inputNombre_cli.getText();
        direccion_cli = inputDireccion_cli.getText();
        
        
        id_estcivil = mismetodos.comboBoxBuscarSeleccion(resultadoBusqueda);////buscarSeleccionComboboxEstadoCivil((String)comboboxEstadoCivil.getSelectedItem());

        fonofijo_cli = Integer.parseInt(inputFonofijo_cli.getText());
        celular_cli = Integer.parseInt(inputCelular_cli.getText());
        renta_cli = Integer.parseInt(inputRenta_cli.getText());

        Cliente cliente = new Cliente( numrut_cli,dvrut_cli,appaterno_cli,apmaterno_cli,nombre_cli,direccion_cli,id_estcivil,fonofijo_cli,celular_cli,renta_cli);

        if(clienteDao.buscarCliente(numrut_cli).isEmpty()){
            clienteDao.ingresarCliente(cliente);
            JOptionPane.showMessageDialog(this,"Cliente "+
                cliente.getNombre_cli()+" "+
                cliente.getAppaterno_cli()+
                "\nIngresado");
        }else{
            JOptionPane.showMessageDialog(this,"Cliente ya existe");//para enviar mensaje a usuario
        }    
    }//GEN-LAST:event_btnGuardarClienteActionPerformed

    private void btnLimpiarClienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLimpiarClienteActionPerformed
       mismetodos.panelLimpiarComponentes(this);
    }//GEN-LAST:event_btnLimpiarClienteActionPerformed
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnGuardarCliente;
    private javax.swing.JButton btnLimpiarCliente;
    private javax.swing.JComboBox<String> comboboxEstadoCivil;
    private javax.swing.JTextField inputApmaterno_cli;
    private javax.swing.JTextField inputAppaterno_cli;
    private javax.swing.JTextField inputCelular_cli;
    private javax.swing.JTextField inputDireccion_cli;
    private javax.swing.JTextField inputDvrut_cli;
    private javax.swing.JTextField inputFonofijo_cli;
    private javax.swing.JTextField inputNombre_cli;
    private javax.swing.JTextField inputNumrut_cli;
    private javax.swing.JTextField inputRenta_cli;
    private javax.swing.JLabel labelApellidoMaternoCli;
    private javax.swing.JLabel labelApellidoPaternoCli;
    private javax.swing.JLabel labelCelularCli;
    private javax.swing.JLabel labelDigitoVerificadorCli;
    private javax.swing.JLabel labelDireccionCli;
    private javax.swing.JLabel labelErrorApellidoMaterno;
    private javax.swing.JLabel labelErrorApellidoPaterno;
    private javax.swing.JLabel labelErrorCelular;
    private javax.swing.JLabel labelErrorDigitoVerificador;
    private javax.swing.JLabel labelErrorDireccion;
    private javax.swing.JLabel labelErrorEstadoCivil;
    private javax.swing.JLabel labelErrorNombre;
    private javax.swing.JLabel labelErrorNumeroRut;
    private javax.swing.JLabel labelErrorRenta;
    private javax.swing.JLabel labelErrorTelefono;
    private javax.swing.JLabel labelEstadoCivilCli;
    private javax.swing.JLabel labelNombreCli;
    private javax.swing.JLabel labelNumeroRutCli;
    private javax.swing.JLabel labelRentaCli;
    private javax.swing.JLabel labelTelefonoFijoCli;
    // End of variables declaration//GEN-END:variables
}
